!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);function r(e){const t=new Date(1e3*e),n=t.getHours()<12?"a.m.":"p.m.";return`${13<t.getHours()?24-t.getHours():t.getHours()}:${t.getMinutes()} ${n}`}function o(e){const t=new Date(1e3*e);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(t)}function a(e){switch(!0){case 348.75<=e&&e<=360||0<=e&&e<=11.25:return"N";case e<33.75:return"NNE";case e<56.25:return"NE";case e<78.75:return"ENE";case e<101.25:return"E";case e<123.75:return"ESE";case e<146.25:return"SE";case e<168.75:return"SSE";case e<191.25:return"S";case e<213.75:return"SSW";case e<236.25:return"SW";case e<258.75:return"WSW";case e<281.25:return"W";case e<303.75:return"WNW";case e<326.25:return"NW";case e<348.75:return"NNW"}}const c=document.getElementById("input-text"),i=document.getElementById("input-btn");let u=c.value;const d=document.getElementById("radio-imperial");d.checked=!0,i.addEventListener("click",e=>{e.preventDefault(),new Promise((e,t)=>{fetch(`https://api.openweathermap.org/data/2.5/weather?q=${u}&appid=519a1c9664527625ad4f7b05ad834e68`).then(e=>e.json()).then(e=>({lat:e.coord.lat,lon:e.coord.lon})).then(t=>e(t),e=>t("Failed to locate city on OpenWeatherMap"))}).then(e=>{var t;t=e,new Promise((e,n)=>{const{lat:c,lon:i}=t;fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${c}&lon=${i}&exclude=minutely,hourly,alerts&units=${d.checked?"imperial":"metric"}&appid=519a1c9664527625ad4f7b05ad834e68`).then(e=>e.json()).then(t=>{console.log(t),function(e){const t={icon:(n=e.current).weather[0].icon,time:r(n.dt),temp:Math.floor(10*n.temp)/10,weather:n.weather[0].main,windDirection:a(n.wind_deg),windSpeed:Math.floor(n.wind_speed)};var n;document.getElementById("weather").innerText=`${t.weather}, ${t.temp} ${d.checked?"F":"C"}`,document.getElementById("wind").innerText=`${t.windSpeed} ${d.checked?"mph":"km/h"} ${t.windDirection} wind`;const o=`http://openweathermap.org/img/wn/${t.icon}@2x.png`;document.getElementById("icon").setAttribute("src",o)}(t),function(e){const t=e.daily.map(e=>function(e){return{icon:e.weather[0].icon,date:o(e.dt),temp_min:Math.floor(e.temp.min),temp_max:Math.floor(e.temp.max),weather:e.weather[0].main}}(e)),n=()=>d.checked?"F":"C";t.slice(0,3).forEach((e,t)=>function(e,t){document.getElementById(`d${e}-date`).innerText=""+t.date,document.getElementById(`d${e}-weather`).innerText=`${t.weather}, ${t.temp_max} ${n()} / ${t.temp_min} ${n()}`;const r=`http://openweathermap.org/img/wn/${t.icon}@2x.png`;document.getElementById(`d${e}-icon`).setAttribute("src",r)}(t,e))}(t),e("success")}).catch(()=>{n("Failed to retrieve forecast data from OpenWeatherMap")})})}).then(()=>{document.getElementById("content").classList.remove("hidden")},e=>{console.error("An error has occured: "+e),document.getElementById("content").classList.add("hidden")})}),c.addEventListener("input",e=>{u=c.value})}]);